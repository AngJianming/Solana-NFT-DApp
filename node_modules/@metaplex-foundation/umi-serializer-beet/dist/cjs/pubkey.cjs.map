{"version":3,"file":"pubkey.cjs","sources":["../../src/pubkey.ts"],"sourcesContent":["import {\n  PUBLIC_KEY_LENGTH,\n  PublicKey,\n  PublicKeyInput,\n  PublicKeySerializerOptions,\n  Serializer,\n  publicKeyBytes,\n  publicKey as toPublicKey,\n} from '@metaplex-foundation/umi';\nimport { DeserializingEmptyBufferError, NotEnoughBytesError } from './errors';\n\nexport function publicKey(\n  options: PublicKeySerializerOptions = {}\n): Serializer<PublicKeyInput, PublicKey> {\n  return {\n    description: options.description ?? 'publicKey',\n    fixedSize: 32,\n    maxSize: 32,\n    serialize: (value: PublicKeyInput) => publicKeyBytes(toPublicKey(value)),\n    deserialize: (bytes: Uint8Array, offset = 0) => {\n      const pubkeyBytes = bytes.slice(offset, offset + 32);\n      if (pubkeyBytes.length === 0) {\n        throw new DeserializingEmptyBufferError('publicKey');\n      }\n      if (pubkeyBytes.length < PUBLIC_KEY_LENGTH) {\n        throw new NotEnoughBytesError(\n          'publicKey',\n          PUBLIC_KEY_LENGTH,\n          pubkeyBytes.length\n        );\n      }\n      return [toPublicKey(pubkeyBytes), offset + 32];\n    },\n  };\n}\n"],"names":["publicKey","options","description","fixedSize","maxSize","serialize","value","publicKeyBytes","toPublicKey","deserialize","bytes","offset","pubkeyBytes","slice","length","DeserializingEmptyBufferError","PUBLIC_KEY_LENGTH","NotEnoughBytesError"],"mappings":";;;;;;;AAWO,SAASA,SAAS,CACvBC,OAAmC,GAAG,EAAE,EACD;EACvC,OAAO;AACLC,IAAAA,WAAW,EAAED,OAAO,CAACC,WAAW,IAAI,WAAW;AAC/CC,IAAAA,SAAS,EAAE,EAAE;AACbC,IAAAA,OAAO,EAAE,EAAE;IACXC,SAAS,EAAGC,KAAqB,IAAKC,kBAAc,CAACC,aAAW,CAACF,KAAK,CAAC,CAAC;AACxEG,IAAAA,WAAW,EAAE,CAACC,KAAiB,EAAEC,MAAM,GAAG,CAAC,KAAK;MAC9C,MAAMC,WAAW,GAAGF,KAAK,CAACG,KAAK,CAACF,MAAM,EAAEA,MAAM,GAAG,EAAE,CAAC,CAAA;AACpD,MAAA,IAAIC,WAAW,CAACE,MAAM,KAAK,CAAC,EAAE;AAC5B,QAAA,MAAM,IAAIC,oCAA6B,CAAC,WAAW,CAAC,CAAA;AACtD,OAAA;AACA,MAAA,IAAIH,WAAW,CAACE,MAAM,GAAGE,qBAAiB,EAAE;QAC1C,MAAM,IAAIC,0BAAmB,CAC3B,WAAW,EACXD,qBAAiB,EACjBJ,WAAW,CAACE,MAAM,CACnB,CAAA;AACH,OAAA;MACA,OAAO,CAACN,aAAW,CAACI,WAAW,CAAC,EAAED,MAAM,GAAG,EAAE,CAAC,CAAA;AAChD,KAAA;GACD,CAAA;AACH;;;;"}